<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>breeze | watch</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.10.3/cdn.min.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fdn.fontcdn.ir">
    <link rel="preconnect" href="https://v1.fontapi.ir">
    <link href="https://v1.fontapi.ir/css/SFProDisplay" rel="stylesheet">
    <link rel="stylesheet" href="/fa/css/all-pro.css">
    <link rel="shortcut icon" href="/assets/fav.png" type="image/x-icon">
    <link rel="stylesheet" href="/assets/css/colors.css" id="css-theme-link">
    <script src="/assets/js/colors.js"></script>
    <link rel="stylesheet" href="/assets/css/font.css">
</head>

<style>

    button {
        font-family: arial !important;
    }

    body,
    html {
        background: none;
    }

    input {
        background: var(--bg-2) !important;
        font-size: 14px !important;
        font-family: Arial !important;
        padding: 10px 20px !important;
    }

    input:focus {
        outline: none;
        background: var(--bg-3) !important;
    }

    .switcher {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        font-family: arial;
    }

    span {
        font-family: Arial;
    }
</style>

<body class=" text-[var(--text)] min-h-screen p-8" x-data="app()">
    <div class="container mx-auto max-w-6xl">
        <br><br>
<a href="/pages/movies.html" class="inline-block mb-6 text-[var(--text)]-400 transition-all hover:text-gray-300">‚Üê Back to
    Browse</a>
        <div x-show="content">
            <h1 class="text-4xl font-bold mb-4" x-text="content?.title || content?.name"></h1>

            <div class="mb-6 flex items-center space-x-4 text-gray-300">
                <span x-show="content?.release_date" x-text="new Date(content.release_date).getFullYear()"></span>
                <span x-show="content?.first_air_date" x-text="new Date(content.first_air_date).getFullYear()"></span>
                <span x-show="content?.vote_average"><i class="fas fa-star"></i> <span x-text="content.vote_average.toFixed(1)"></span></span><br>
            </div>

            <div class="bg-[#1d1d1d] rounded-3xl overflow-hidden mb-6">
                <div class="relative pt-[56.25%]">
                    <iframe :src="currentVideoUrl" class="absolute top-0 left-0 w-full h-full" frameborder="0"
                        allowfullscreen>
                    </iframe>
                </div>
            </div>

            <template x-if="isShow">
                <div class="bg-[var(--bg)] rounded-3xl p-6 mb-6">
                    <h3 class="text-xl font-semibold mb-4">Episodes</h3>

                    <div class="flex items-center space-x-2 mb-4 flex-wrap">
                        <template x-for="season in seasons" :key="season">
                            <button @click="selectedSeason = season; updateEpisodes()"
                                class="px-4 py-2 m-1 rounded-2xl whitespace-nowrap"
                                :class="selectedSeason === season ? 'bg-[var(--accent)] text-[var(--text)]' : 'bg-[var(--bg-2)]'">
                                Season <span x-text="season"></span>
                            </button>
                        </template>
                    </div>

                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                        <template x-for="episode in seasonData?.episodes" :key="episode.episode_number">
                            <div @click="selectedEpisode = episode.episode_number; loadEpisode()"
                                class="bg-[var(--bg-2)] rounded-3xl overflow-hidden transition-all cursor-pointer hover:bg-[var(--bg-3)]"
                                :class="selectedEpisode === episode.episode_number ? 'ring-2 ring-[var(--accent)]' : ''">
                                <div class="relative aspect-video">
                                    <img :src="episode.still_path 
                                              ? 'https://image.tmdb.org/t/p/w300' + episode.still_path
                                              : 'https://via.placeholder.com/300x169'"
                                        class="w-full h-full aspect-3/2 object-cover">
                                    <div
                                        class="absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black to-transparent">
                                        <span class="text-sm font-medium">Episode <span
                                                x-text="episode.episode_number"></span></span>
                                    </div>
                                </div>
                                <div class="p-3">
                                    <h4 class="font-medium text-sm" x-text="episode.name"></h4>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </template>

            <div class="bg-[var(--bg)] rounded-3xl p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4">Sources</h3>
                <div class="flex flex-wrap gap-2">
                    <template x-for="source in availableSources" :key="source.id">
                        <button @click="selectedSource = source.id; updateVideoUrl()" class="transition-all px-4 py-2 rounded-2xl"
                            :class="selectedSource === source.id ? 'bg-[var(--accent)] text-[var(--text)]' : 'bg-[var(--bg-2)]'"
                            x-text="source.name">
                        </button>
                    </template>
                </div>
            </div>

            <div class="bg-[var(--bg)] rounded-3xl p-6">
                <h3 class="text-xl font-semibold mb-4">Overview</h3>
                <p class="text-gray-300" style="font-family: Arial;" x-text="content?.overview"></p>
            </div>
            <br><br>
        </div>
    </div>

    <script>
        
const availableSources = [
    {
        id: 'mapple',
        name: 'MappleTv',
        isFrench: false,
        urls: {
            movie: 'https://mappletv.uk/watch/movie/{id}',
            tv: 'https://mappletv.uk/watch/tv/{id}-{season}-{episode}'
        }
    },
    {
        id: 'pstream',
        name: 'P-Stream',
        isFrench: false,
        urls: {
            movie: 'https://iframe.pstream.mov/media/tmdb-movie-{id}',
            tv: 'https://iframe.pstream.mov/media/tmdb-tv-{id}/{season}/{episode}'
        }
    },
    {
        id: 'multiembed',
        name: 'MultiEmbed',
        isFrench: false,
        urls: {
            movie: 'https://multiembed.mov/?video_id={id}&tmdb=1',
            tv: 'https://multiembed.mov/?video_id={id}&tmdb=1&s={season}&e={episode}'
        }
    },
    {
        id: 'moviesapi',
        name: 'MoviesAPI',
        isFrench: false,
        urls: {
            movie: 'https://moviesapi.club/movie/{id}',
            tv: 'https://moviesapi.club/tv/{id}-{season}-{episode}'
        }
    },
    {
        id: 'embedsu',
        name: 'EmbedSU',
        isFrench: false,
        urls: {
            movie: 'https://embed.su/embed/movie/{id}',
            tv: 'https://embed.su/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'hexa',
        name: 'Hexa',
        isFrench: false,
        urls: {
            movie: 'https://hexa.watch/watch/movie/{id}',
            tv: 'https://hexa.watch/watch/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'vidlink',
        name: 'VidLink',
        isFrench: false,
        urls: {
            movie: 'https://vidlink.pro/movie/{id}',
            tv: 'https://vidlink.pro/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'vidsrcXyz',
        name: 'VidSrcXyz',
        isFrench: false,
        urls: {
            movie: 'https://vidsrc.xyz/embed/movie/{id}',
            tv: 'https://vidsrc.xyz/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'vidsrcrip',
        name: 'VidSrcRIP',
        isFrench: false,
        urls: {
            movie: 'https://vidsrc.rip/embed/movie/{id}',
            tv: 'https://vidsrc.rip/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'vidsrcsu',
        name: 'VidSrcSU',
        isFrench: false,
        urls: {
            movie: 'https://vidsrc.su/embed/movie/{id}',
            tv: 'https://vidsrc.su/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'vidsrcvip',
        name: 'VidSrcVIP',
        isFrench: false,
        urls: {
            movie: 'https://vidsrc.vip/embed/movie/{id}',
            tv: 'https://vidsrc.vip/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: '2embed',
        name: '2Embed',
        isFrench: false,
        urls: {
            movie: 'https://www.2embed.cc/embed/{id}',
            tv: 'https://www.2embed.cc/embedtv/{id}&s={season}&e={episode}'
        }
    },
    {
        id: '123embed',
        name: '123Embed',
        isFrench: false,
        urls: {
            movie: 'https://play2.123embed.net/movie/{id}',
            tv: 'https://play2.123embed.net/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: '111movies',
        name: '111Movies',
        isFrench: false,
        urls: {
            movie: 'https://111movies.com/movie/{id}',
            tv: 'https://111movies.com/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'smashystream',
        name: 'SmashyStream',
        isFrench: false,
        urls: {
            movie: 'https://player.smashy.stream/movie/{id}',
            tv: 'https://player.smashy.stream/tv/{id}?s={season}&e={episode}'
        }
    },
    {
        id: 'autoembed',
        name: 'AutoEmbed',
        isFrench: false,
        urls: {
            movie: 'https://player.autoembed.cc/embed/movie/{id}',
            tv: 'https://player.autoembed.cc/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'videasy',
        name: 'VidEasy (4K)',
        isFrench: false,
        urls: {
            movie: 'https://player.videasy.net/movie/{id}?color=8834ec',
            tv: 'https://player.videasy.net/tv/{id}/{season}/{episode}?color=8834ec'
        }
    },
    {
        id: 'vidfast',
        name: 'VidFast (4K)',
        isFrench: false,
        urls: {
            movie: 'https://vidfast.pro/movie/{id}',
            tv: 'https://vidfast.pro/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'vidify',
        name: 'Vidify',
        isFrench: false,
        urls: {
            movie: 'https://vidify.top/embed/movie/{id}',
            tv: 'https://vidify.top/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'flicky',
        name: 'Flicky',
        isFrench: false,
        urls: {
            movie: 'https://flicky.host/embed/movie/?id={id}',
            tv: 'https://flicky.host/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'rive',
        name: 'RiveStream',
        isFrench: false,
        urls: {
            movie: 'https://rivestream.org/embed?type=movie&id={id}',
            tv: 'https://rivestream.org/embed?type=tv&id={id}&season={season}&episode={episode}'
        }
    },
    {
        id: 'vidora',
        name: 'Vidora',
        isFrench: false,
        urls: {
            movie: 'https://vidora.su/movie/{id}',
            tv: 'https://vidora.su/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'vidsrccc',
        name: 'VidSrcCC',
        isFrench: false,
        urls: {
            movie: 'https://vidsrc.cc/v2/embed/movie/{id}?autoPlay=false',
            tv: 'https://vidsrc.cc/v2/embed/tv/{id}/{season}/{episode}?autoPlay=false'
        }
    },
    {
        id: 'streamflix',
        name: 'StreamFlix',
        isFrench: false,
        urls: {
            movie: 'https://watch.streamflix.one/movie/{id}}/watch?server=1',
            tv: 'https://watch.streamflix.one/tv/{id}}/watch?server=1&season={season}}&episode={episode}}'
        }
    },
    {
        id: 'nebula',
        name: 'NebulaFlix',
        isFrench: false,
        urls: {
            movie: 'https://nebulaflix.stream/movie?mt={id}&server=1',
            tv: 'https://nebulaflix.stream/show?st={id}&season={season}&episode={episode}&server=1'
        }
    },
    {
        id: 'vidjoy',
        name: 'VidJoy',
        isFrench: false,
        urls: {
            movie: 'https://vidjoy.pro/embed/movie/{id}',
            tv: 'https://vidjoy.pro/embed/tv/{id}}/{season}/{episode}'
        }
    },
    {
        id: 'vidzee',
        name: 'VidZee',
        isFrench: false,
        urls: {
            movie: 'https://player.vidzee.wtf/embed/movie/{id}', // @ambr0sial: there is a 4K endpoint for movies only. in case you want to implement that sometime: https://player.vidzee.wtf/embed/movie/4k/{id}
            tv: 'https://player.vidzee.wtf/embed/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'spenflix',
        name: 'Spenflix',
        isFrench: false,
        urls: {
            movie: 'https://spencerdevs.xyz/movie/{id}',
            tv: 'https://spencerdevs.xyz/tv/{id}/{season}/{episode}'
        }
    },
    {
        id: 'frembed',
        name: 'Frembed',
        isFrench: true,
        urls: {
            movie: 'https://frembed.icu/api/film.php?id={id}',
            tv: 'https://frembed.icu/api/serie.php?id={id}&sa={season}&epi={episode}'
        }
    },
    {
        id: 'uembed',
        name: 'UEmbed (premium)',
        isFrench: false,
        urls: {
            movie: 'https://uembed.site/?id={id}&apikey=thisisforsurenotapremiumkey_right?',
            tv: 'https://uembed.site/?id={id}&season={season}&episode={episode}&apikey=thisisforsurenotapremiumkey_right?'
        }
    },
    {
        id: 'vidsrccx',
        name: 'VidSrcCX',
        isFrench: false,
        urls: {
            movie: 'https://vidsrc.cx/embed/movie/{id}',
            tv: 'https://vidsrc.cx/embed/tv/{id}/{season}/{episode}'
        }
    }
];
        function app() {
            return {
                apiKey: '1070730380f5fee0d87cf0382670b255',
                content: null,
                contentId: null,
                contentType: null,
                isShow: false,
                selectedSeason: 1,
                selectedEpisode: 1,
                seasons: [],
                seasonData: null,
                selectedSource: 'vidsrcXyz',
                availableSources: availableSources,
                currentVideoUrl: '',

                async init() {
                    const urlParams = new URLSearchParams(window.location.search);
                    this.contentId = urlParams.get('id');
                    this.contentType = urlParams.get('type');
                    this.isShow = this.contentType === 'tv';

                    if (this.contentId && this.contentType) {
                        await this.fetchContent();
                        this.updateVideoUrl();
                    }
                },

                async fetchContent() {
                    const url = `https://api.themoviedb.org/3/${this.contentType}/${this.contentId}?api_key=${this.apiKey}`;

                    try {
                        const response = await fetch(url);
                        const data = await response.json();
                        this.content = data;

                        if (this.isShow) {
                            this.seasons = Array.from({ length: data.number_of_seasons }, (_, i) => i + 1);
                            await this.updateEpisodes();
                        }
                    } catch (error) {
                        console.error('Error fetching content:', error);
                    }
                },

                async updateEpisodes() {
                    const url = `https://api.themoviedb.org/3/tv/${this.contentId}/season/${this.selectedSeason}?api_key=${this.apiKey}`;
                    try {
                        const response = await fetch(url);
                        const data = await response.json();
                        this.seasonData = data;
                        this.selectedEpisode = 1;
                        this.updateVideoUrl();
                    } catch (error) {
                        console.error('Error fetching episodes:', error);
                    }
                },

                loadEpisode() {
                    this.updateVideoUrl();
                },

                updateVideoUrl() {
                    const source = this.availableSources.find(s => s.id === this.selectedSource);
                    if (!source) return;

                    const params = this.isShow
                        ? { id: this.contentId, season: this.selectedSeason, episode: this.selectedEpisode }
                        : { id: this.contentId };

                    let url = source.urls[this.isShow ? 'tv' : 'movie'];
                    Object.entries(params).forEach(([key, value]) => {
                        url = url.replace(`{${key}}`, value);
                    });
                    this.currentVideoUrl = url;
                }
            }
        }
    </script>
    <div id="cursor-thank-you-zxs"
        style="position: fixed; top: 0px; left: 0px; width: 16px; height: 16px; border-radius: 50%; background: color-mix(in srgb, var(--accent) 70%, white 30%); pointer-events: none; z-index: 9999; transform: translate(748px, 592px); transition: width 0.15s, height 0.15s, opacity 0.15s; mix-blend-mode: difference; opacity: 0;">
    </div>
    <script src="/assets/js/cursor.js"></script>
</body>

</html>
